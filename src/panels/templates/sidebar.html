<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="Content-Security-Policy" content="{{csp}}" />
		<script src="{{chartJsUri}}"></script>
		<style>
			body {
				font-family: var(--vscode-font-family);
				font-size: 11px;
				color: var(--vscode-foreground);
				padding: 8px 10px;
				margin: 0;
				overflow-x: hidden;
			}
			.center {
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				min-height: 100px;
				gap: 8px;
			}
			.section {
				margin-bottom: 14px;
				padding-bottom: 8px;
				border-bottom: 1px solid var(--vscode-panel-border);
			}
			.section-title {
				font-size: 10px;
				opacity: 0.6;
				margin-bottom: 6px;
				font-weight: 600;
				text-transform: uppercase;
				letter-spacing: 0.5px;
			}
			.section-title.collapsible {
				cursor: pointer;
				display: flex;
				justify-content: space-between;
				align-items: center;
				padding: 4px 0;
				margin-top: -4px;
			}
			.section-title.collapsible:hover {
				opacity: 1;
				color: var(--vscode-textLink-foreground);
			}
			.chevron {
				font-size: 8px;
				transition: transform 0.1s;
				display: inline-block;
			}
			.hidden {
				display: none;
			}
			.chart-wrapper.pie-container {
				height: 160px;
				margin: 10px auto;
				display: flex;
				justify-content: center;
			}
			.row {
				display: flex;
				justify-content: space-between;
				padding: 2px 0;
			}
			.value {
				font-weight: 600;
				color: var(--vscode-textLink-foreground);
			}
			.model-row {
				display: flex;
				align-items: flex-start;
				gap: 6px;
				margin-bottom: 6px;
			}
			.dot {
				width: 7px;
				height: 7px;
				border-radius: 50%;
				margin-top: 3px;
				flex-shrink: 0;
			}
			.model-info {
				display: flex;
				flex-direction: column;
				min-width: 0;
				flex: 1;
			}
			.model-name {
				font-weight: 500;
				font-size: 11px;
			}
			.model-details {
				font-size: 9px;
				opacity: 0.7;
			}
			.model-meta {
				font-size: 9px;
				opacity: 0.5;
			}
			.header-row {
				display: flex;
				justify-content: space-between;
				align-items: center;
				margin-top: 8px;
			}
			.chart-label {
				font-size: 10px;
				font-weight: 500;
				opacity: 0.8;
			}
		</style>
	</head>
	<body>
		<script>
			window.vscode = acquireVsCodeApi();
		</script>
		{{content}} {{chartScript}}
		<script>
			document.addEventListener('click', (e) => {
				if (e.target.id === 'refresh' || e.target.id === 'retry') {
					window.vscode.postMessage({ command: 'refresh' });
				}
			});
		</script>
		{{initialScript}}
	</body>
</html>
